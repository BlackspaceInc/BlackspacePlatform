(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{191:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return c})),a.d(t,"rightToc",(function(){return b})),a.d(t,"default",(function(){return s}));var i=a(2),n=a(6),l=(a(0),a(244)),r={title:"Releases"},c={unversionedId:"__guidelines/releasing",id:"__guidelines/releasing",isDocsHomePage:!1,title:"Releases",description:"This document will cover how to properly release Blackspace.",source:"@site/docs/__guidelines/releasing.md",slug:"/__guidelines/releasing",permalink:"/docs/__guidelines/releasing",version:"current",sidebar:"docs",previous:{title:"Contributing",permalink:"/docs/__guidelines/contributing"},next:{title:"Reviewing",permalink:"/docs/__guidelines/reviewing"}},b=[{value:"Quick Start",id:"quick-start",children:[{value:"Patch Releases",id:"patch-releases",children:[]},{value:"Major/Minor Releases",id:"majorminor-releases",children:[]}]},{value:"Fixing Up a Release",id:"fixing-up-a-release",children:[]}],o={rightToc:b};function s(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(l.b)("wrapper",Object(i.a)({},o,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,"This document will cover how to properly release Blackspace."),Object(l.b)("p",null,"Blackspace adheres to ",Object(l.b)("a",Object(i.a)({parentName:"p"},{href:"https://semver.org/spec/v2.0.0.html"}),"Semantic Versioning")," and the release\nprocess is dependent on the version change."),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(i.a)({parentName:"li"},{href:"#quick-start"}),"Quick Start"),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(i.a)({parentName:"li"},{href:"#patch-releases"}),"Patch Releases")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(i.a)({parentName:"li"},{href:"#majorminor-releases"}),"Major/Minor Releases")))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(i.a)({parentName:"li"},{href:"#fixing-up-a-release"}),"Fixing Up a Release"))),Object(l.b)("h2",{id:"quick-start"},"Quick Start"),Object(l.b)("h3",{id:"patch-releases"},"Patch Releases"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Create a new branch from the latest ",Object(l.b)("inlineCode",{parentName:"li"},"vMAJOR.MINOR.PATCH")," tag. Ex: ",Object(l.b)("inlineCode",{parentName:"li"},"git checkout -b v1.2.3 v1.2.2")),Object(l.b)("li",{parentName:"ol"},"Make the appropriate changes/fixes."),Object(l.b)("li",{parentName:"ol"},"Update the ","[",Object(l.b)("inlineCode",{parentName:"li"},"/RELEASE_NOTES.md"),"]"," file."),Object(l.b)("li",{parentName:"ol"},"Update the ","[",Object(l.b)("inlineCode",{parentName:"li"},"/CHANGELOG.md"),"]"," and ","[",Object(l.b)("inlineCode",{parentName:"li"},"/src/services/*/CHANGELOG.md"),"]"," headers to reflect the new version ",Object(l.b)("inlineCode",{parentName:"li"},"vMAJOR.MINOR.PATCH - YYYY-MM-DD")),Object(l.b)("li",{parentName:"ol"},'Commit the changes above with message "Release vMAJOR.MINOR.PATCH"'),Object(l.b)("li",{parentName:"ol"},"Create a new tag named ",Object(l.b)("inlineCode",{parentName:"li"},"vMAJOR.MINOR.PATCH")),Object(l.b)("li",{parentName:"ol"},"Push the new tag"),Object(l.b)("li",{parentName:"ol"},"Delete the temporary branch you created."),Object(l.b)("li",{parentName:"ol"},Object(l.b)("a",Object(i.a)({parentName:"li"},{href:"https://i.giphy.com/media/3ohzdIvnUKKjiAZTSU/giphy.webp"}),"All done"))),Object(l.b)("h3",{id:"majorminor-releases"},"Major/Minor Releases"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Switch to the ",Object(l.b)("inlineCode",{parentName:"li"},"master")," branch, this should be reflective of the new version's changes."),Object(l.b)("li",{parentName:"ol"},"Update the ","[",Object(l.b)("inlineCode",{parentName:"li"},"/RELEASE_NOTES.md"),"]"," file."),Object(l.b)("li",{parentName:"ol"},"Update the ","[",Object(l.b)("inlineCode",{parentName:"li"},"/CHANGELOG.md"),"]"," and ","[",Object(l.b)("inlineCode",{parentName:"li"},"/src/services/*/CHANGELOG.md"),"]"," headers to reflect the new version ",Object(l.b)("inlineCode",{parentName:"li"},"vMAJOR.MINOR.PATCH - YYYY-MM-DD")),Object(l.b)("li",{parentName:"ol"},"Commit the changes above with message ",Object(l.b)("inlineCode",{parentName:"li"},'"Release vMAJOR.MINOR.PATCH"')),Object(l.b)("li",{parentName:"ol"},"Create a new tag named ",Object(l.b)("inlineCode",{parentName:"li"},"vMAJOR.MINOR.PATCH")),Object(l.b)("li",{parentName:"ol"},"Push the new tag."),Object(l.b)("li",{parentName:"ol"},"Update the ","[",Object(l.b)("inlineCode",{parentName:"li"},"/CHANGELOG.md"),"]"," header to reflect the new upcoming version ",Object(l.b)("inlineCode",{parentName:"li"},"vNEW_MAJOR.NEW_MINOR-dev")),Object(l.b)("li",{parentName:"ol"},"Commit the changes above with message ",Object(l.b)("inlineCode",{parentName:"li"},'"Start vNEW_MAJOR.NEW_MINOR+1"')),Object(l.b)("li",{parentName:"ol"},Object(l.b)("a",Object(i.a)({parentName:"li"},{href:"https://i.giphy.com/media/3ohzdIvnUKKjiAZTSU/giphy.webp"}),"All done"))),Object(l.b)("h2",{id:"fixing-up-a-release"},"Fixing Up a Release"),Object(l.b)("p",null,"If you tried to cut a release and the CI failed for some unexpected reason, you can follow these steps to recover:"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Switch to the ",Object(l.b)("inlineCode",{parentName:"li"},"v$VERSION")," branch."),Object(l.b)("li",{parentName:"ol"},"Delete the ",Object(l.b)("inlineCode",{parentName:"li"},"v$VERSION")," tag."),Object(l.b)("li",{parentName:"ol"},"Cherry pick the commits directly to the branch."),Object(l.b)("li",{parentName:"ol"},"Run ",Object(l.b)("inlineCode",{parentName:"li"},"make release")," while still on that branch."),Object(l.b)("li",{parentName:"ol"},"Commit and tag accordingly."),Object(l.b)("li",{parentName:"ol"},"Cherry pick that commit back to master so that the release is carried over.")))}s.isMDXComponent=!0}}]);