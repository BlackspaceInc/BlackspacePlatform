(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{174:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return r})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return j}));var n=a(2),b=(a(0),a(243));const l={title:"FILL keyword",sidebar_label:"FILL",description:"FILL SQL keyword reference documentation."},r={unversionedId:"__uneeded/reference/sql/fill",id:"__uneeded/reference/sql/fill",isDocsHomePage:!1,title:"FILL keyword",description:"FILL SQL keyword reference documentation.",source:"@site/docs/__uneeded/reference/sql/fill.md",slug:"/__uneeded/reference/sql/fill",permalink:"/docs/__uneeded/reference/sql/fill",version:"current",sidebar_label:"FILL"},c=[{value:"Syntax",id:"syntax",children:[{value:"Options",id:"options",children:[]}]},{value:"Examples",id:"examples",children:[]}],O={rightToc:c};function j({components:e,...t}){return Object(b.b)("wrapper",Object(n.a)({},O,t,{components:e,mdxType:"MDXLayout"}),Object(b.b)("p",null,"Specifies fill behavior for missing data for as part of a\n",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/sql/sample-by/"}),"SAMPLE BY")," aggregation query."),Object(b.b)("h2",{id:"syntax"},"Syntax"),Object(b.b)("p",null,Object(b.b)("img",{alt:"Flow chart showing the syntax of the FILL keyword",src:a(278).default})),Object(b.b)("h3",{id:"options"},"Options"),Object(b.b)("p",null,"There are as many ",Object(b.b)("inlineCode",{parentName:"p"},"fillOption")," as there are ",Object(b.b)("inlineCode",{parentName:"p"},"aggreate")," columns in your query."),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"fillOption"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"NONE")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Will not fill. In case there is no data, the time chunk will be skipped in the results. This means your table could potentially be missing intervals.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"NULL")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Fills with ",Object(b.b)("inlineCode",{parentName:"td"},"null"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"PREV")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Fills using the previous value")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"LINEAR")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Fills by linear interpolation of the 2 surrounding points")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"x")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Fills with the constant defined (replace the ",Object(b.b)("inlineCode",{parentName:"td"},"x")," by the value you want. For example ",Object(b.b)("inlineCode",{parentName:"td"},"fill 100.05"))))),Object(b.b)("h2",{id:"examples"},"Examples"),Object(b.b)("p",null,"Consider the following ",Object(b.b)("inlineCode",{parentName:"p"},"prices")," table"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"timestamp"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"price"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"p1")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts2"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"p2")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts3"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"p3")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"...")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"tsn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"pn")))),Object(b.b)("p",null,"We could run the following to get the minimum, maximum and average price per\nhour using the following query:"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-questdb-sql"}),"SELECT timestamp, min(price) min, max(price) max, avg(price) avg\nFROM PRICES\nSAMPLE BY 1h;\n")),Object(b.b)("p",null,"It would generally return result like this:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"timestamp"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"min"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"max"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"average"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"max1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg1")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"...")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"tsn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"minn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"maxn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avgn")))),Object(b.b)("p",null,"However, in case there was no ",Object(b.b)("inlineCode",{parentName:"p"},"PRICES")," data for a given hour, your table would\nhave time chunks missing. In the below example, there is no data to generate\naggregates for ",Object(b.b)("inlineCode",{parentName:"p"},"ts3")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"timestamp"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"min"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"max"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"average"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"max1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg1")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts2"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min2"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"max2"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg2")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"ts3")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"null")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"null")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"null"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts4"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min4"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"max4"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg4")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"...")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"tsn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"minn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"maxn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avgn")))),Object(b.b)("p",null,"Here you can see that the third time chunk is missing. This is because there was\nno price update in the third hour. Let's see what different fill values would\nreturn:"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-questdb-sql"}),"SELECT timestamp, min(price) min, max(price) max, avg(price) avg\nFROM PRICES\nSAMPLE BY 1h\nFILL(null, 0, prev);\n")),Object(b.b)("p",null,"would return the following"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"timestamp"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"min"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"max"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"average"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"max1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg1")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts2"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min2"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"max2"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg2")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"ts3")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"NULL")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"0")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"avg2"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts4"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min4"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"max4"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg4")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"...")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"tsn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"minn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"maxn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avgn")))),Object(b.b)("p",null,"And the following:"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-questdb-sql"}),"SELECT timestamp, min(price) min, avg(price) avg\nFROM PRICES\nSAMPLE BY 1h\nFILL(25.5, linear);\n")),Object(b.b)("p",null,"Would return:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"timestamp"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"min"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"average"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min1"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg1")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts2"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min2"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg2")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"ts3")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"25.5")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"(avg2+avg4)/2"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ts4"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"min4"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avg4")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"..."),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"...")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"tsn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"minn"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"avgn")))))}j.isMDXComponent=!0}}]);